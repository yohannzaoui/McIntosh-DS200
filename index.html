<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="UTF-8">
        <title>McIntosh Audio Player - DS200</title>
         <meta name="author" content="Yohann Zaoui">
        <meta name="keywords"content="McIntosh, Hi-Res Audio, Audio Player, Mini, HiFi, Touchscreen, Music Player, Web App, flac, mp3, music">
        <link rel="icon" type="image/x-icon" href="img/favicon.png">
        <link rel="apple-touch-icon" href="img/favicon.png">
        <link rel="icon" type="image/png" href="img/favicon.png">
        <link rel="manifest" href="manifest.json">
        <link rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <script
            src="https://cdnjs.cloudflare.com/ajax/libs/jsmediatags/3.9.5/jsmediatags.min.js"></script>
        <link
            href="https://fonts.googleapis.com/css2?family=Bitcount+Single:wght@300&display=swap"
            rel="stylesheet">
        <link
            href="https://fonts.googleapis.com/css2?family=Bitcount+Single:wght@300&family=Roboto:wght@300&display=swap"
            rel="stylesheet">
        <link rel="stylesheet" href="style.css">
    </head>
    <body>
        <div class="chassis">
            <audio id="main-audio"></audio>
            <input type="file" id="file-loader" accept=".mp3,.flac,.wav,.mp4"
                style="display:none;" multiple>

            <div class="silver-trim left"></div>

            <div class="front-panel">
                <header class="mc-header">
                    <div class="logo-container">
                        <img src="img/logo_ref.png" alt="McIntosh Logo"
                            class="brand-logo-img">
                    </div>
                </header>

                <div class="main-controls">
                    <div class="knob-container">
                        <span class="label">INPUT</span>
                        <div class="knob-outer">
                            <div class="knob" id="input-knob"></div>
                        </div>
                        <span class="sub-label"><span
                                class="gold-text">PUSH</span></span>
                    </div>

                    <div class="vfd-display">
                        <div class="track-counter">
                            <div class="track-label">TRACK</div>
                            <div class="track-data"
                                style="display: flex; align-items: baseline; gap: 10px;">
                                <div id="track-number">0/0</div>
                                <div id="file-format"
                                    style="color: #00ff00; font-family: 'Orbitron', sans-serif; font-size: 0.7rem; opacity: 0.8; text-transform: uppercase;">---</div>
                                <div id="bitrate-display"
                                    style="color: #00ff00; font-family: 'Orbitron', sans-serif; font-size: 0.7rem; opacity: 0.8; text-transform: uppercase;">***</div>
                            </div>
                        </div>

                        <div class="volume-center">
                            <div class="vol-label">LEVEL</div>
                            <div id="vol-display">60%</div>
                        </div>

                        <div class="time-counter">
                            <div class="time-label">MIN:SEC</div>
                            <div class="time-wrapper">
                                <span id="random-indicator" style="display: none; margin-right: 10px;">RANDOM</span><span id="status-icon"
                                    class="status-symbol"></span>
                                <div id="time-display">00:00</div>
                            </div>
                        </div>

                        <div class="display-content">
                            <div id="status-line">NO MEDIA</div>
                            <div id="meta-subline">
                                <span id="album-name">ALBUM</span>
                                <span class="separator"> - </span>
                                <span id="artist-name">ARTIST</span>
                            </div>
                        </div>

                        <div class="visualizer-container">
                            <canvas id="vfd-visualizer"></canvas>
                            <div class="freq-labels">
                                <span>20</span><span>60</span><span>150</span><span>400</span><span>1k</span><span>2.5k</span><span>6k</span><span>15k</span>
                            </div>
                        </div>
                    </div>

                    <div class="knob-container">
                        <span class="label">LEVEL</span>
                        <div class="knob-outer">
                            <div class="knob" id="volume-knob"></div>
                        </div>
                        <span class="sub-label"><span
                                class="gold-text">ADJUST</span></span>
                    </div>
                </div>

                <div class="bottom-row">
                    <div class="transport-buttons"
                        style="display: flex; flex-wrap: wrap; justify-content: center; gap: 20px;">
                        <div class="btn-wrapper">
                            <span class="btn-label"><i
                                    class="fa-solid fa-backward-step"></i></span>
                            <button class="btn-transport"
                                id="prev-btn"></button>
                        </div>
                        <div class="btn-wrapper">
                            <span class="btn-label"><i
                                    class="fa-solid fa-forward-step"></i></span>
                            <button class="btn-transport"
                                id="next-btn"></button>
                        </div>
                        <div class="btn-wrapper">
                            <span class="btn-label"><i
                                    class="fa-solid fa-play"></i> <i
                                    class="fa-solid fa-pause"></i></span>
                            <button class="btn-transport"
                                id="play-pause"></button>
                        </div>
                        <div class="btn-wrapper">
                            <span class="btn-label"><i
                                    class="fa-solid fa-stop"></i></span>
                            <button class="btn-transport"
                                id="stop-btn"></button>
                        </div>

                        <div class="streaming-label-container">
                            <div class="gold-line"></div>
                            <span class="streaming-txt">STREAMING
                                CONTROLS</span>
                            <div class="gold-line"></div>
                        </div>
                    </div>

                    <div class="utility-buttons">

                         <div class="btn-wrapper">
                            <span class="btn-label">OPTIONS</span>
                            <button class="btn-round" id="options-toggle"></button>
                        </div>
                        
                        <div class="btn-wrapper">
                            <span class="led green active"></span>
                            <span class="btn-label">DISPLAY</span>
                            <button class="btn-round" id="display-btn"></button>
                        </div>

                        <div class="btn-wrapper">
                            <span class="led green" id="mute-led"></span>
                            <span class="btn-label">MUTE</span>
                            <button class="btn-round" id="mute-btn"></button>
                        </div>

                        <div class="btn-wrapper">
                            <span class="led red active"></span>
                            <span
                                class="btn-label standby-txt">STANDBY/ON</span>
                            <button class="btn-round standby"
                                id="standby-btn"></button>
                        </div>
                    </div>
                </div>
            </div>

            <div id="options-popup" class="options-menu">
    <div class="options-row">
        <div class="btn-wrapper">
            <span class="btn-label">RANDOM</span>
            <button class="btn-round" id="random-btn"></button>
        </div>
        <div class="btn-wrapper">
            <span class="btn-label">REPEAT</span>
            <button class="btn-round" id="repeat-btn"></button>
        </div>
        <div class="btn-wrapper">
            <span class="btn-label">A-B</span>
            <button class="btn-round" id="ab-btn"></button>
        </div>
    </div>
    
    <div class="tone-separator-line"></div>
    <span class="tone-main-label">TONE</span>

    <div class="options-row">
        <div class="btn-wrapper">
            <span class="btn-label">BASS -</span>
            <button class="btn-round" id="bass-minus"></button>
        </div>
        <div class="btn-wrapper">
            <span class="btn-label">BASS +</span>
            <button class="btn-round" id="bass-plus"></button>
        </div>
    </div>

    <div class="options-row">
        <div class="btn-wrapper">
            <span class="btn-label">TONE RESET</span>
            <button class="btn-round standby" id="tone-reset"></button>
        </div>
    </div>

    <div class="options-row">
        <div class="btn-wrapper">
            <span class="btn-label">TREBLE -</span>
            <button class="btn-round" id="treble-minus"></button>
        </div>
        <div class="btn-wrapper">
            <span class="btn-label">TREBLE +</span>
            <button class="btn-round" id="treble-plus"></button>
        </div>
    </div>
</div>

            <div class="silver-trim right"></div>
        </div>

        <div id="cover-modal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <img id="cover-art-full" src alt="Pochette d'album">
                <div id="modal-track-info"></div>
            </div>
        </div>
        <div id="playlist-modal" class="modal">
            <div class="modal-content"
                style="max-height: 70vh; overflow-y: auto; background: #050505; border: 1px solid #00ff00; padding: 20px;">
                <span class="close-playlist"
                    style="float: right; cursor: pointer; color: #00ff00; font-size: 30px;">&times;</span>
                <h3
                    style="color: #00ff00; font-family: 'Roboto', sans-serif; border-bottom: 1px solid #00ff00; padding-bottom: 10px;">PLAYLIST</h3>
                <ul id="playlist-items"
                    style="list-style: none; padding: 0; text-align: left; color: #33ccff; font-family: 'Roboto', sans-serif;">
                </ul>
            </div>
        </div>

        <script src="script.js"></script>
    </body>
</html>